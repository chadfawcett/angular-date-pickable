function jbDatePickableDirective(){function e(e){function t(){o.visibleDates=[moment(o.visibleDate.toDate())];for(var e=1;e<(o.visibleMonths||D);e++)o.visibleDates.push(moment(o.visibleDate.toDate()).add(e,"month").startOf("month"))}function a(){o.visibleDate=o.visibleDate.add(-1,"month").startOf("month"),t()}function n(){o.visibleDate=o.visibleDate.add(1,"month").startOf("month"),t()}function s(e){var t=e.clone().startOf("month"),a=e.clone().endOf("month"),n=t.format("YYYY-MM");if(d[n])return d[n];var s=moment().range(t.startOf("week"),a.endOf("week")),l=[];return s.by("weeks",function(e){var t=[];moment().range(e.clone().startOf("week"),e.clone().endOf("week")).by("days",function(e){t.push(e.startOf("day").toDate())}),l.push(t)}),d[n]=l,l}function l(e){return o.selectStartDate&&o.selectEndDate&&(o.selectEndDate=null,o.selectStartDate=null,o.selectedDateRange=null),o.selectStartDate||o.selectEndDate?o.selectStartDate&&moment(e).isBefore(o.selectStartDate)?(o.selectEndDate=o.selectStartDate,o.selectStartDate=e,o.selectedDate=e,void r()):o.selectStartDate&&moment(e).isAfter(o.selectStartDate)?(o.selectEndDate=e,void r()):void 0:(o.selectStartDate=e,void(o.selectedDate=e))}function r(){o.selectStartDate&&o.selectEndDate&&(o.selectedDateRange=moment().range(moment(o.selectStartDate).startOf("day"),moment(o.selectEndDate).endOf("day")),o.startDate!==o.selectStartDate&&(o.startDate=o.selectStartDate),o.endDate!==o.selectEndDate&&(o.endDate=o.selectEndDate))}function c(e){if(!o.selectedDateRange)return!1;var t=!1,t=o.selectedDateRange.contains(e);return t}function i(e){return o.selectStartDate&&moment(o.selectStartDate).isSame(e,"day")?!0:o.selectEndDate&&moment(o.selectEndDate).isSame(e,"day")?!0:!1}var o=this;const D=1;o.visibleDate=moment().startOf("month"),o.selectStartDate=moment(o.startDate).toDate(),o.selectEndDate=moment(o.endDate).toDate(),o.setPrevMonth=a,o.setNextMonth=n,o.selectDate=l,o.generateWeeks=s,o.isInRange=c,o.isSelected=i,t(),r(o.startDate,o.endDate);var d={};e.$watchGroup(["vm.startDate","vm.endDate"],function(e){var a=e[0],n=e[1];o.visibleDate=moment(a).startOf("month"),o.selectStartDate=a,o.selectEndDate=n,t(),r()})}return{restrict:"E",templateUrl:"angular-date-pickable.html",scope:{startDate:"=",endDate:"=",selectedDate:"=",selectedDateRange:"=",visibleMonths:"="},controllerAs:"vm",controller:e,bindToController:!0}}angular.module("jbDatePickable",[]).directive("jbDatePickable",jbDatePickableDirective),angular.module("jbDatePickable").run(["$templateCache",function(e){e.put("angular-date-pickable.html",'<table ng-repeat="visibleDate in vm.visibleDates" class="pickable__calendar">\n  <thead>\n    <tr>\n      <th colspan="2" ng-click="vm.setPrevMonth()">&lt;</th>\n      <th colspan="3">{{ visibleDate.toDate() | date:\'MMM yyyy\'}}</th>\n      <th colspan="2" ng-click="vm.setNextMonth()">&gt;</th>\n    </tr>\n\n    <tr>\n      <th>Su</th>\n      <th>Mo</th>\n      <th>Tu</th>\n      <th>We</th>\n      <th>Th</th>\n      <th>Fr</th>\n      <th>Sa</th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="week in vm.generateWeeks(visibleDate)">\n      <td ng-repeat="day in week" ng-click="vm.selectDate(day)" \n        ng-class="{\'pickable__day--in-range\': vm.isInRange(day), \'pickable__day--selected\': vm.isSelected(day) }">\n        {{ day | date:\'dd\' }}\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]);