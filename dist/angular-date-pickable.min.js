function jbDatePickableDirective(){function e(e){function t(){D.visibleDates=[moment(D.visibleDate.toDate())];for(var e=1;e<(D.visibleMonths||d);e++)D.visibleDates.push(moment(D.visibleDate.toDate()).add(e,"month").startOf("month"))}function a(){D.visibleDate=D.visibleDate.add(-1,"month").startOf("month"),t()}function n(){D.visibleDate=D.visibleDate.add(1,"month").startOf("month"),t()}function s(e){var t=e.clone().startOf("month"),a=e.clone().endOf("month"),n=t.format("YYYY-MM");if(m[n])return m[n];var s=moment().range(t.startOf("week"),a.endOf("week")),l=[];return s.by("weeks",function(e){var t=[];moment().range(e.clone().startOf("week"),e.clone().endOf("week")).by("days",function(e){t.push(e.startOf("day").toDate())}),l.push(t)}),m[n]=l,l}function l(e){return D.selectStartDate&&D.selectEndDate&&(D.selectEndDate=null,D.selectStartDate=null,D.selectedDateRange=null),D.selectStartDate||D.selectEndDate?D.selectStartDate&&moment(e).isBefore(D.selectStartDate)?(D.selectEndDate=D.selectStartDate,D.selectStartDate=e,D.selectedDate=e,void r()):D.selectStartDate&&moment(e).isAfter(D.selectStartDate)?(D.selectEndDate=e,void r()):void 0:(D.selectStartDate=e,void(D.selectedDate=e))}function r(){D.selectStartDate&&D.selectEndDate&&(D.selectedDateRange=moment().range(moment(D.selectStartDate).startOf("day"),moment(D.selectEndDate).endOf("day")),D.startDate!==D.selectStartDate&&(D.startDate=D.selectStartDate),D.endDate!==D.selectEndDate&&(D.endDate=D.selectEndDate))}function c(e){if(!D.selectedDateRange)return!1;var t=!1,t=D.selectedDateRange.contains(e);return t}function i(e){return D.selectStartDate&&moment(D.selectStartDate).isSame(e,"day")?!0:D.selectEndDate&&moment(D.selectEndDate).isSame(e,"day")?!0:!1}function o(e,t,a){return moment(t).isSame(a,e)}var D=this;const d=1;D.visibleDate=moment().startOf("month"),D.selectStartDate=moment(D.startDate).toDate(),D.selectEndDate=moment(D.endDate).toDate(),D.setPrevMonth=a,D.setNextMonth=n,D.selectDate=l,D.generateWeeks=s,D.isInRange=c,D.isSelected=i,D.isSame=o,t(),r(D.startDate,D.endDate);var m={};e.$watchGroup(["vm.startDate","vm.endDate"],function(e){var a=e[0],n=e[1];D.visibleDate=moment(a).startOf("month"),D.selectStartDate=a,D.selectEndDate=n,t(),r()})}return{restrict:"E",templateUrl:"angular-date-pickable.html",scope:{startDate:"=",endDate:"=",selectedDate:"=",selectedDateRange:"=",visibleMonths:"="},controllerAs:"vm",controller:e,bindToController:!0}}angular.module("jbDatePickable",[]).directive("jbDatePickable",jbDatePickableDirective),angular.module("jbDatePickable").run(["$templateCache",function(e){e.put("angular-date-pickable.html",'<table ng-repeat="visibleDate in vm.visibleDates" class="pickable__calendar">\n  <thead>\n    <tr>\n      <th colspan="2" ng-click="vm.setPrevMonth()">&lt;</th>\n      <th colspan="3">{{ visibleDate.toDate() | date:\'MMM yyyy\'}}</th>\n      <th colspan="2" ng-click="vm.setNextMonth()">&gt;</th>\n    </tr>\n\n    <tr>\n      <th>Su</th>\n      <th>Mo</th>\n      <th>Tu</th>\n      <th>We</th>\n      <th>Th</th>\n      <th>Fr</th>\n      <th>Sa</th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="week in vm.generateWeeks(visibleDate)">\n      <td ng-repeat="day in week" ng-click="vm.selectDate(day)" \n        ng-class="{\'pickable__day--not-same\': !vm.isSame(\'month\', day, visibleDate), \'pickable__day--in-range\': vm.isInRange(day), \'pickable__day--selected\': vm.isSelected(day) }">\n        {{ day | date:\'dd\' }}\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]);